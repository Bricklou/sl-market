(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(19),i=n.n(a),c=(n(46),n(14)),o=n(2),u=(n(47),n(4)),l=n(5),p=n(7),d=n(6),h=(n(48),n.p+"static/media/icon.e7f43e91.svg"),b=n(1),j=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsx)("nav",{id:"navbar",children:Object(b.jsxs)("div",{className:"nav-container",children:[Object(b.jsxs)(c.b,{to:"/",className:"logo-link",children:[Object(b.jsx)("span",{className:"logo-container",children:Object(b.jsx)("img",{src:h,alt:"Logo"})}),Object(b.jsx)("span",{className:"title-container",children:"SL-Market"})]}),Object(b.jsxs)("span",{className:"menubar",children:[Object(b.jsx)(c.c,{to:"/vendeurs",activeClassName:"active",children:"vendeurs"}),Object(b.jsx)(c.c,{to:"/connexion",activeClassName:"active",children:"Connexion"}),Object(b.jsx)(c.c,{to:"/inscription",activeClassName:"active",children:"Inscription"})]})]})})}}]),n}(r.Component),f=n(22),m=n(8),O=n.n(m),v=n(21),x=n(15),g=(n(55),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"showIcon",value:function(){if(this.props.icon)return Object(b.jsx)("i",{className:"fas fa-".concat(this.props.icon)})}},{key:"showLoading",value:function(){if(this.props.loading)return Object(b.jsx)("i",{className:"loading-icon fas fa-circle-notch"})}},{key:"render",value:function(){return Object(b.jsxs)("button",{className:"button ".concat(this.props.className||""),type:this.props.type||"button",disabled:this.props.loading||this.props.disabled,children:[this.props.loading?this.showLoading():this.showIcon(),this.props.children]})}}]),n}(r.Component)),y=(n(56),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"showIcon",value:function(){if(this.props.icon)return Object(b.jsx)("span",{className:"icon",children:Object(b.jsx)("i",{className:"fas fa-".concat(this.props.icon)})})}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"input-field ".concat(this.props.className||""," ").concat(this.props.icon?"with-icon":""),children:[this.showIcon(),Object(b.jsx)("input",{id:this.props.id,type:this.props.type,className:"input",name:this.props.name,placeholder:this.props.placeholder,onChange:this.props.onChange,disabled:this.props.disabled})]})}}]),n}(r.Component)),w=n(37),k=n.n(w).a.create({baseURL:"/api"}),S=new(function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"login",value:function(){var e=Object(x.a)(O.a.mark((function e(t,n,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/auth",{email:t,password:n,remember:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete("/auth");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/auth/register",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("/auth");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/auth");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),N=(n(75),n(76),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"showErrors",value:function(){if(this.props.errors)return this.props.errors.map((function(e,t){return Object(b.jsx)("span",{className:"error-msg",children:e},t)}))}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:this.props.errors?"error":"",children:[this.props.children,this.showErrors()]})}}]),n}(r.Component)),C=(n(77),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"checkbox-field ".concat(this.props.className||""),children:[Object(b.jsx)("input",{id:this.props.id,type:"checkbox",className:"checkbox",onChange:this.props.onChange,disabled:this.props.disabled}),Object(b.jsx)("label",{htmlFor:this.props.id,className:"label",children:this.props.label})]})}}]),n}(r.Component)),E=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={user:"",password:"",remember:!1,loading:!1,errors:{}},r}return Object(l.a)(n,[{key:"showError",value:function(e){if(e)return e.map((function(e){return Object(b.jsx)("span",{className:"error",children:e})}))}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{id:"login",children:Object(b.jsx)("div",{className:"box",children:Object(b.jsxs)("form",{className:"form-container",onSubmit:this.submitForm.bind(this),children:[Object(b.jsx)("label",{className:"label",htmlFor:"email",children:"Adresse E-mail"}),Object(b.jsx)(N,{errors:this.state.errors.email,children:Object(b.jsx)(y,{id:"email",placeholder:"Adresse E-mail",name:"email",type:"text",icon:"envelope",onChange:function(t){t.target instanceof HTMLInputElement&&e.setState({user:t.target.value})},disabled:this.state.loading})}),Object(b.jsx)("label",{className:"label",htmlFor:"password",children:"Mot de passe"}),Object(b.jsx)(N,{errors:this.state.errors.password,children:Object(b.jsx)(y,{id:"password",placeholder:"Mot de passe",name:"password",type:"password",icon:"lock",onChange:function(t){t.target instanceof HTMLInputElement&&e.setState({password:t.target.value})},disabled:this.state.loading})}),Object(b.jsx)(C,{id:"remember",onChange:function(t){t.target instanceof HTMLInputElement&&e.setState({remember:t.target.checked})},disabled:this.state.loading,label:"Rester connect\xe9 ?",className:"mx-8 mb-6"}),Object(b.jsx)(g,{icon:"sign-in-alt",type:"submit",loading:this.state.loading,children:"Connexion"})]})})})}},{key:"submitForm",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r,s,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({loading:!0}),e.prev=2,e.next=5,S.login(this.state.user,this.state.password,!0);case 5:e.next=21;break;case 7:if(e.prev=7,e.t0=e.catch(2),!e.t0.response){e.next=20;break}n=e.t0.response,e.t1=null===n||void 0===n?void 0:n.status,e.next=422===e.t1?14:400===e.t1?19:20;break;case 14:r={},s=Object(v.a)(n.data.errors);try{for(s.s();!(a=s.n()).done;)i=a.value,null==r[i.field]&&(r[i.field]=[]),r[i.field].push(i.message)}catch(c){s.e(c)}finally{s.f()}return this.setState({errors:r}),e.abrupt("break",20);case 19:this.setState({errors:{email:["Identifiants invalides"]}});case 20:this.setState({loading:!1});case 21:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(r.Component),I=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsx)("h1",{children:"Home"})}}]),n}(r.Component),L=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsx)("h1",{children:"Page not found"})}}]),n}(r.Component),R=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:"Loading"})})}}]),n}(r.Component),_=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)(R,{})})}}]),n}(r.Component),F=(n(78),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={username:"",email:"",password:"",password_confirmation:"",loading:!1,btnDisabled:!0,errors:{}},r}return Object(l.a)(n,[{key:"showError",value:function(e){if(e)return e.map((function(e){return Object(b.jsx)("span",{className:"error",children:e})}))}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{id:"register",children:Object(b.jsx)("div",{className:"box",children:Object(b.jsxs)("form",{className:"form-container",onSubmit:this.submitForm.bind(this),children:[Object(b.jsx)("label",{htmlFor:"username",className:"label",children:"Nom d'utilisateur"}),Object(b.jsx)(N,{errors:this.state.errors.username,children:Object(b.jsx)(y,{id:"username",placeholder:"Nom d'utilisateur",name:"username",type:"text",icon:"user",onChange:function(t){e.setState({username:t.target.value},e.updateButton)},disabled:this.state.loading})}),Object(b.jsx)("label",{htmlFor:"email",className:"label",children:"Adresse E-Mail"}),Object(b.jsx)(N,{errors:this.state.errors.email,children:Object(b.jsx)(y,{id:"email",placeholder:"Adresse E-Mail",name:"email",type:"email",icon:"envelope",onChange:function(t){e.setState({email:t.target.value},e.updateButton)},disabled:this.state.loading})}),Object(b.jsx)("label",{className:"label",htmlFor:"password",children:"Mot de passe"}),Object(b.jsx)(N,{errors:this.state.errors.password,children:Object(b.jsx)(y,{id:"password",placeholder:"Mot de passe",name:"password",type:"password",icon:"lock",onChange:function(t){e.setState({password:t.target.value},e.updateButton)},disabled:this.state.loading})}),Object(b.jsx)("label",{className:"label",htmlFor:"confirmation",children:"Confirmation"}),Object(b.jsx)(N,{errors:this.state.errors.password_confirmation,children:Object(b.jsx)(y,{id:"confirmation",placeholder:"Confirmation",name:"confirmation",type:"password",icon:"lock",onChange:function(t){e.setState({password_confirmation:t.target.value},e.updateButton)},disabled:this.state.loading})}),Object(b.jsx)(g,{icon:"sign-in-alt",type:"submit",loading:this.state.loading,disabled:this.state.btnDisabled,children:"Inscription"})]})})})}},{key:"updateButton",value:function(){this.state.username.length>4&&this.state.email.length>1&&this.state.password.length>4&&this.state.password===this.state.password_confirmation?this.setState({btnDisabled:!1}):this.setState({btnDisabled:!0})}},{key:"submitForm",value:function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r,s,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({loading:!0}),e.prev=2,e.next=5,S.register({username:this.state.username,email:this.state.email,password:this.state.password,password_confirmation:this.state.password_confirmation});case 5:this.props.history.push("/"),e.next=22;break;case 8:if(e.prev=8,e.t0=e.catch(2),!e.t0.response){e.next=21;break}n=e.t0.response,e.t1=null===n||void 0===n?void 0:n.status,e.next=422===e.t1?15:20;break;case 15:r={},s=Object(v.a)(n.data.errors);try{for(s.s();!(a=s.n()).done;)i=a.value,null==r[i.field]&&(r[i.field]=[]),r[i.field].push(i.message)}catch(c){s.e(c)}finally{s.f()}return this.setState({errors:r}),e.abrupt("break",21);case 20:this.setState({errors:{username:["Une erreur impr\xe9vue est survenu, veuillez r\xe9essayer plus tard ou contactez le support."]}});case 21:this.setState({loading:!1});case 22:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(r.Component)),U=Object(o.g)(F),M=function(e,t,n){e.meta.auth?n.redirect("/"):n()},T=function(e){return Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{exact:!0,path:"/",component:I}),Object(b.jsx)(f.a,{guards:[M],loading:_,children:Object(b.jsxs)(o.d,{children:[Object(b.jsx)(f.b,{exact:!0,path:"/connexion",component:E}),Object(b.jsx)(f.b,{exact:!0,path:"/inscription",component:U})]})}),Object(b.jsx)(o.b,{component:L})]})};var B=function(){return Object(b.jsxs)(c.a,{children:[Object(b.jsx)(j,{}),Object(b.jsx)(o.b,{component:T})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))},G=n(41),A=n(16),H="USERS_REGISTER_REQUEST",P="USERS_REGISTER_SUCCESS",z="USERS_REGISTER_FAILURE",J="USERS_LOGIN_REQUEST",Q="USERS_LOGIN_SUCCESS",q="USERS_LOGIN_FAILURE",K="USERS_LOGOUT",V={};var W=Object(A.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:case Q:return{isLoggedIn:!0,user:t.user};case q:case K:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{registering:!0};case P:case z:return{};default:return e}}}),X=n(39),Y=n(40),Z=Object(Y.createLogger)(),$=Object(A.d)(W,Object(A.a)(X.a,Z));i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(G.a,{store:$,children:Object(b.jsx)(B,{})})}),document.getElementById("root")),D()}},[[80,1,2]]]);
//# sourceMappingURL=main.440dca3c.chunk.js.map